function decodeAuthHeader(e){var t=e.header("Authorization").split(" "),u=t[1],n=new Buffer(u,"base64");return n.toString().split(":")[0]}function getModuleInstance(e){if(!moduleInstantiated){var t=decodeAuthHeader(e);return census=new CensusModule["default"](t)}return census}var express=require("express"),keyauth=require("./auth.service"),CensusModule=require("../../build/modules/census/citysdk.census"),router=express.Router(),moduleInstantiated=!1,census;router.post("/geo",keyauth,function(e,t){getModuleInstance(e).geoRequest(e.body,function(e){t.json(e)})}),router.post("/api",keyauth,function(e,t){getModuleInstance(e).apiRequest(e.body,function(e){t.json(e)})}),module.exports=router;