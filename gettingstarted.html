---
layout: guideslayout
title: Getting Started
---

<div class="row">
    <div class="col-md-12 cenCoreStyles">

        <div class="row">
            <div class="col-md-6">
                <p>CitySDK is fundamentally a javascript library that is expanded by modules which call on various APIs.
                    Each module essentially adds a new data source for scripting to consume. The core library
                    (citysdk.js) includes some basic utility functions that return coordinates for state capitals,
                    etc.</p>


                <p>Implementing the library can be requires these steps:</p>

            </div>
            <div class="col-md-6">

                <ol>
                    <li>Add the CitySDK javascript library and any desired module libraries</li>
                    <li>Instantiate the CitySDK and desired modules</li>
                    <li>Create a request JSON object
                        <ol>
                            <li>Define Location</li>
                            <li>Choose Variables</li>
                            <li>Choose Geographic Grouping / Level</li>
                        </ol>
                    </li>
                    <li>Make the Request</li>
                    <li>Use the returned object</li>
                </ol>

            </div>
        </div>


        <h2>1. Add the Library</h2>

        <p>Add the script libraries to the page. You will need the CitySDK core and then any <a
                href="{{ site.baseurl }}/guides/modules.html">modules</a> you wish to use. This example will use the
            Census Module.</p>
        <pre>&lt;script src="https://cdn.rawgit.com/uscensusbureau/citysdk/Release1.1/js/citysdk.js"&gt;&lt;/script&gt;
&lt;script src="https://cdn.rawgit.com/uscensusbureau/citysdk/Release1.1/js/citysdk.census.js"&gt;&lt;/script&gt;</pre>
        <p><span class="label label-info">Note</span> jQuery is also required.</p>


        <h2>2. Enable the Library(s)</h2>

        <p>Instantiate the CitySDK and modules you intend to use. Some modules may require an API key.</p>

        <div class="row">
            <div class="col-md-8">
        <pre>&lt;script&gt;
        var <var>sdk</var> = new CitySDK(); //Create the CitySDK Instance
        <var>census</var> = <var>sdk.modules.census</var>; //Create an instance of the module
        census.enable("API-KEY"); //Enable the module with the api key
&lt;/script&gt;</pre>

            </div>
            <div class="col-md-4">

                <div class="alert alert-info">
                    <h4>
                        Census API Key Required
                    </h4>

                    <p>If you don't already have one, be sure to grab a Census API key. <a
                            href="http://api.census.gov/data/citysdk.html" class="alert-link">Get a Key</a></p>
                </div>

            </div>
        </div>


        <h2>3. Create the Request</h2>

        <div class="row">
            <div class="col-md-7"><h3>Define Location</h3>

                <p>The location can be defined by coordinates (latitude/longiture), state, zipcode, or address.
                    Generally coordinate points are optimal and fastest.</p>

                <h3>Select Variables</h3>

                <p>The variables determine what data points are returned by the request. For census modules many of the
                    most common variables have been aliased for easier use. You can use either the <a
                            href="{{ site.baseurl }}/guides/censusModule/aliases.html">aliases</a> or the variable
                    names.</p>

                <h3>Choose Geographic <br/>Grouping / Level</h3>

                <p>Choose what geographic level of data desired. For example, selecting “state” along with the
                    coordinates of Richmond, VA will return data for the state of Virginia. Optionally you can include
                    the sublevel which will include the next unit down (in the previous example, selecting sublevel when
                    requesting a state will also include county).</p>
            </div>
            <div class="col-md-5">
                <h3>The Completed Request</h3>

        <pre>&lt;script&gt;
    var <var>request</var> = {
        "level": "state",
        "state": "AK",
        "sublevel": true,
        "variables": [
            "B24124_407E",
            "age",
            "commute_time",
            "commute_time_carpool",
            "commute_time_other"
        ]
    }
&lt;/script&gt;</pre>
            </div>
        </div>


        <h2>4. Submit the Request</h2>

        <p>Make the request and use a callback to utilize the response.</p>



        <pre>&lt;script&gt;

    //Create a callback function to use the data returned
     var callback = function(response) {
        // Do something with the response
     };

     // Make the request
     census.GEORequest(request, callback);

&lt;/script&gt;</pre>


        <h2>5. See It In Action</h2>

        <p>See the CitySDK populate a Google map.</p>

        <div class="row">
            <div class="col-md-6">
            <pre>

        var sdk = new CitySDK();
        var census = sdk.modules.census;

        var request = {
            "state": "MD",
            "level": "state"
        };

        var callback = function(response) {
            map.data.addGeoJson(response);
            };

        census.GEORequest(request, callback);

        </pre>
            </div>

            <div class="col-md-6">
                <div id="map-canvas" style="width: 100%; height: 400px; position: relative; border-radius:5px;"></div>
            </div>

        </div>


    </div>
</div>


<script type="text/javascript"
        src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=visualization&signed_in=true"></script>


<script>
    var apiKey, map;

    var sdk = new CitySDK();
    var census = sdk.modules.census;
    var farmersMarket = sdk.modules.farmersMarket;



    function clearMap() {
        map.data.forEach(function (feature) {
            map.data.remove(feature);
        });
    }
    ;

    function runExample(id) {

        clearMap();
        var textarea = $('#' + id);

        eval(textarea.val());
    }
    ;

    $(document).ready(
            function () {
                var mapOptions = {
                    center: {lat: 38.91732, lng: -77.2211},
                    zoom: 6
                };
                map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

                map.data.setStyle({
                    fillColor: 'blue'
                });
                census.enable(citySDKdemoConfiguration.apikey);

                var request = {
                    "state": "MD",
                    "level": "state"
                };

                var callback = function (response) {
                    map.data.addGeoJson(response);
                };

                census.GEORequest(request, callback);

            }
    );
</script>
