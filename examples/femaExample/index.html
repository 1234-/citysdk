---
layout: exampleslayout
published: true
title: FEMA Module - Disaster Declaration Summaries
---


<div class="row">
    <div class="col-md-12">


        <div class="btn-group">
            <a href="#" class="btn btn-primary" role="button">View the Example</a>
            <a href="source.html" class="btn btn-default" role="button">Source Code</a>
        </div>
        <div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <h2>Describe Desired Disaster Information</h2>
                <label for="disasterNumber">Disaster Number:</label> <input type="number" id="disasterNumber" value=""
                                                                            max="9999"/><br/>
                <label for="state">State Abvr:</label> <input type="text" id="state" value="VA" maxlength="2"/><br/>
                <label for="county">County:</label> <input type="text" id="county" value=""/><br/>
                <label for="declarationRangeStart">Declared Date Range Start:</label> <input type="date"
                                                                                             id="declarationRangeStart"
                                                                                             value="2011-01-01"/><br/>
                <label for="declarationRangeEnd">Declared Date Range End:</label> <input type="date"
                                                                                         id="declarationRangeEnd"
                                                                                         value="2013-10-31"/><br/>
                <label for="take">Take:</label> <input type="number" id="take" value="20"/><br/>
                <label for="skip">Skip:</label> <input type="number" id="skip" value="0"/><br/>
                <input class="btn btn-primary" type="submit" onclick="submit()" value="Query"/> <input
                    class="btn btn-warning" type="submit" onclick="resetForm()" value="Clear"/>


                <h3>Resulting Data</h3>
                <table id="output" class="display" width="100%">
                    <thead>
                    <tr>
                        <th>Disaster Number</th>
                        <th>IH Program Declared</th>
                        <th>IA Program Declared</th>
                        <th>PA Program Declared</th>
                        <th>HM Program Declared</th>
                        <th>State</th>
                        <th>Declaration Date</th>
                        <th>Disaster Type</th>
                        <th>Incident Type</th>
                        <th>Title</th>
                        <th>Incident Begin Date</th>
                        <th>Incident End Date</th>
                        <th>Disaster Close Out Date</th>
                        <th>Place Code</th>
                        <th>Declared County Area</th>
                    </tr>
                    </thead>
                </table>


            </div>
        </div>

        <script>
        var sdk, census;
        var data = [];
        var table;
        $(document).ready(function() {
            sdk = new CitySDK();
            fema = sdk.modules.fema;

            table = $('#output').DataTable({
                "autoWidth": false,
                data: data,
                columns: [
                    {data: "disasterNumber","defaultContent": ""},
                    {data: "ihProgramDeclared","defaultContent": ""},
                    {data: "iaProgramDeclared","defaultContent": ""},
                    {data: "paProgramDeclared","defaultContent": ""},
                    {data: "hmProgramDeclared","defaultContent": ""},
                    {data: "state","defaultContent": ""},
                    {data: "declarationDate","defaultContent": ""},
                    {data: "disasterType","defaultContent": ""},
                    {data: "incidentType","defaultContent": ""},
                    {data: "title","defaultContent": ""},
                    {data: "incidentBeginDate","defaultContent": ""},
                    {data: "incidentEndDate","defaultContent": ""},
                    {data: "disasterCloseOutDate","defaultContent": ""},
                    {data: "placeCode","defaultContent": ""},
                    {data: "declaredCountyArea","defaultContent": ""}
                ]
            });
            fema.enable();

        });

        function submit() {
            var disasterNumber = $('#disasterNumber').val();
            var county = $('#county').val();
            var state = $('#state').val();
            var declarationRangeStart = $('#declarationRangeStart').val();
            var declarationRangeEnd = $('#declarationRangeEnd').val();
            var take = $('#take').val();
            var skip = $('#skip').val();

            var request = { };
            if (disasterNumber) {
                request.disasterNumber = disasterNumber;
            }
            if (state) {
                request.state = state;
            }
            if (county) {
                request.county = county;
            }
            if (declarationRangeStart) {
                request.declarationRangeStart = declarationRangeStart;
            }
            if (declarationRangeEnd) {
                request.declarationRangeEnd = declarationRangeEnd;
            }
            if (take) {
                request.take = take;
            }
            if (skip) {
                request.skip = skip;
            }

            fema.DisasterDeclarationsSummariesRequest(request, function(response) {
                table.clear();
                table.rows.add(response.DisasterDeclarationsSummaries);
                table.draw();
            });
        }

        function resetForm() {
            $('#disasterNumber').val('');
            $('#county').val('');
            $('#state').val('');
            $('#declarationRangeStart').val('');
            $('#declarationRangeEnd').val('');
            $('#take').val('');
            $('#skip').val('');
        }
    </script>