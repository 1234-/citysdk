---
layout: exampleslayout
published: true
title: Population and Income by Address
---



	<div class="row">

			<div class="btn-group">
                <a href="#" class="btn btn-primary" role="button">View the Example</a>
                <a href="{{ site.baseurl }}/guides/examplestemplate_source.html" class="btn btn-default" role="button">Source
                    Code</a>
			</div>
	</div>


	<div class="row">
        <h2>Overview</h2>
				    <p>This example allows you to enter an address and return population and income information that corresponds to the location.  You may specify how granular you want the return value, by choosing Tract, State, County, Block Group, or Incorporated Place.  </p>
	</div>
    <div class="row">
        <div class="col-md-2">
            Street Address:
        </div>
        <div class="col-md-10">
            <input type="text" id="street" value="18 F Street NW"/>
        </div>
    </div>
    <div class="row">
        <div class="col-md-2">
            City:
        </div>
        <div class="col-md-10">
            <input type="text" id="city" value="Washington"/>
        </div>
    </div>
    <div class="row">
        <div class="col-md-2">
            State:
        </div>
        <div class="col-md-10">
            <input type="text" id="state" value="DC"/>
        </div>
    </div>
    <select id="level">
        <option value="tract" selected>Tract</option>
        <option value="state">State</option>
        <option value="county">County</option>
        <option value="blockGroup">Block Group</option>
        <option value="place">Incorporated Place</option>
    </select>
    <input type="submit" onclick="submit()" value="Query"/>
</div>
<pre id="output">

</pre>


<script>
    var sdk, census;

    $(document).ready(function () {
        sdk = new CitySDK();
        census = sdk.modules.census;

        var apiKey = prompt("Please enter your Census API Key", "API key");
        census.enable(apiKey);
    });

    function submit() {
        var street = $('#street');
        var city = $('#city');
        var state = $('#state');

        var request = {
            address: {
                street: street.val(),
                city: city.val(),
                state: state.val()
            },

            variables: [
                "income",
                "population"
            ],
            level: $("#level option:selected").val()
        }
        census.APIRequest(request, function (response) {
            var output = $('#output');
            output.empty();
            output.append("Coordinates: " + response.lat + ", " + response.lng + " <br/>");
            output.append("Median Income: " + response.data[0].income + "<br/>");
            output.append("Population: " + response.data[0].population + " </br>");
            output.append("<br/><br/><br/>Here's the address object we sent and what matched:<br/><br/>");
            output.append("Address: " + JSON.stringify(response.address, null, 4) + "<br/>");
        });
    }
</script>
